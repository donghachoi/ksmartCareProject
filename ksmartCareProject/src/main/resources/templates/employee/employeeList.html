<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">

<th:block layout:fragment="customTitle">
	<title>index</title>
<!-- Bootstrap -->
       <link rel="stylesheet" href="assets/lib/bootstrap/css/bootstrap.css">
       
       <!-- Font Awesome -->
       <link rel="stylesheet" href="assets/lib/font-awesome/css/font-awesome.css">
       
       <!-- Metis core stylesheet -->
       <link rel="stylesheet" href="assets/css/main.css">
       
       <!-- metisMenu stylesheet -->
       <link rel="stylesheet" href="assets/lib/metismenu/metisMenu.css">
       
       <!-- onoffcanvas stylesheet -->
       <link rel="stylesheet" href="assets/lib/onoffcanvas/onoffcanvas.css">
       
       <!-- animate.css stylesheet -->
       <link rel="stylesheet" href="assets/lib/animate.css/animate.css">
      
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/css/dataTables.bootstrap.min.css">

       <script>
           less = {
               env: "development",
               relativeUrls: false,
               rootpath: "/assets/"
           };
       </script>
       <link rel="stylesheet" href="/assets/css/style-switcher.css">
       <link rel="stylesheet/less" type="text/css" href="/assets/less/theme.less">
       <script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/2.7.1/less.js"></script>
</th:block>
<th:block layout:fragment="customContents">
	<body class="  ">
		<div class="bg-dark dk" id="wrap">
			<div id="top">
				<header class="head">
					<div class="main-bar">
						<h3><i class="fa fa-table"></i>&nbsp;직원 리스트 </h3>
					</div>
                 	<!-- /.main-bar -->
            	</header>
            	<!-- /.head -->
			</div>
   			 <!-- /#top -->
		</div>
		<!-- /#wrap -->
<div id="content">
	<div class="outer">

		<div class="inner bg-light lter">
			<!-- 직원리스트 테이블 Start -->
		
			<div class="box">
				<div class="col-lg-12 ui-sortable">
					<div class="box ui-sortable-handle"
						style="position: relative; left: 0px; right: 0px; top: 0px;">
						<header>
							<div class="icons">
								<i class="fa fa-table"></i>
							</div>
							<h5>직원 리스트</h5>
						</header>
						
						<div id="collapse4" class="body">
							<div class="row">
								<div class="col-sm-12">
									<table id="dataTable" class="table table-bordered table-hover" style="font-size: 15px">
										<thead>
											<tr role="row">
												<th>번호</th>
												<th>직원아이디</th>
												<th>이름</th>
												<th>직종</th>
												<th>성별</th>
												<th>연락처</th>
												<th>상태</th>
												<th>직급</th>
												<th style="display: none">비밀번호</th>
												<th style="display: none">주민등록번호</th>
												<th style="display: none">근무시작일</th>
												<th style="display: none">근무형태</th>
												<th style="display: none">급여산정방식</th>
												<th style="display: none">근로계약시급</th>
												<th style="display: none">급여계좌</th>
												<th style="display: none">예금주</th>
											</tr>
									</thead>
										<tbody>
											<tr role="row" class="odd" th:each="E:${employeeList}" >
												<td class="sorting_1" th:text="${E.employeeListNumber}" th:employeeListNumber="${E.employeeListNumber}"><a th:href="@{/center/employeeList(employeeId=${E.employeeId})}"></a></td>
											    <td th:text="${E.employeeId}" th:employeeId="${E.employeeId}" id="employeeId1"></td>
											    <td th:text="${E.employeeName}" th:employeeName="${E.employeeName}" ></td>
											    <td th:text="${E.employeeCategory}" th:employeeCategory="${E.employeeCategory}" ></td>
											    <td th:text="${E.employeeGender}" th:employeeGender="${E.employeeGender}" ></td>
											    <td th:text="${E.employeePhone}" th:employeePhone="${E.employeePhone}" ></td>  
											    <td th:text="${E.employeeWorkingStatus}" th:employeeWorkingStatus="${E.employeeWorkingStatus}" ></td>
											    <td th:text="${E.employeePosition}" th:employeePosition="${E.employeePosition}" ></td>
											    <td th:text="${E.employeePw}" th:employeePw="${E.employeePw}"  style="display: none"></td>
											    <td th:text="${E.employeePersonalNumber}" th:employeePersonalNumber="${E.employeePersonalNumber}" style="display: none"></td>
												<td th:text="${E.employeeStartDate}" th:employeeStartDate="${E.employeeStartDate}" style="display: none"></td>
												<td th:text="${E.employeeWorkingType}" th:employeeWorkingType="${E.employeeWorkingType}" style="display: none"></td>
												<td th:text="${E.employeePayType}" th:employeePayType="${E.employeePayType}" style="display: none"></td>
												<td th:text="${E.employeeHourlyPay}" th:employeeHourlyPay="${E.employeeHourlyPay}" style="display: none"></td>
												<td th:text="${E.employeeAccount}" th:employeeAccount="${E.employeeAccount}" style="display: none"></td>
												<td th:text="${E.employeeAccountHolder}" th:employeeAccountHolder="${E.employeeAccountHolder}" style="display: none">서비스종료일</td>      
											</tr>
									</tbody>	
								</table>
							</div>
						</div>
					</div>			
			</div>
				<!--직원정보 개략 테이블 End -->
				<!-- 직원 상세정보 테이블 Start -->
								<div class="col-lg-12 ui-sortable">
									<form class="form-horizontal" method="get">
									<div class="box ui-sortable-handle">
										<header>
											<div class="icons">
												<i class="fa fa-table"></i>
											</div>
											<h5>직원 상세 정보</h5>
											<div class="toolbar">
											
												<div class="btn-group">
											
													<button type="button" class="btn btn-default btn-sm btn-line"
															id="btnEmployeeIdForUpdate">
															<span class="ui-button-text">
															정보수정
															</span>
													</button>
													<button type="button" class="btn btn-default btn-sm btn-line"
															id="btnEmployeeIdForDelete">
															<span class="ui-button-text">
															직원삭제
															</span>
													</button>
													</form>
													<!-- <a href="#defaultTable" data-toggle="collapse"
														class="btn btn-sm btn-default minimize-box"> 
														<i class="fa fa-angle-up"></i>
													</a> -->
												</div>
											</div>
										</header>
										<div id="defaultTable" class="body collapse in">
											<table class="table responsive-table" >
												<tbody>
													<tr>
														<th>직원사진</th>
															<td>
																<input type="file" id="gdsImg" name="file" />
 																<div class="select_img"><img src="" /></div>
															</td>
														<th>직원아이디</th>
														<td id="employeeId">e_000001</td>
														<th>이름</th>
														<td id="employeeName">이형열</td>
														<th>직종</th>
														<td id="employeeCategory">관리책임자</td>
													</tr>
													<tr>
														<th>비밀번호</th>
														<td id="employeePw">pw001</td>
														<th>주민등록번호</th>
														<td id="employeePersonalNumber">731001-1111111</td>
														<th>성별</th>
														<td id="employeeGender">남</td>
													</tr>
													<tr>
														<th>근무시작일</th>
														<td id="employeeStartDate">2020-03-09</td>
														<th>직무상태</th>
														<td id="employeeWorkingStatus">재직</td>
														<th>직급</th>
														<td id="employeePosition">과장</td>
														<th>재직형태</th>
														<td id="employeeWorkingType">전임</td>
													</tr>
													<tr>
														<th>연락처</th>
														<td id="employeePhone">010-8988-1384</td>
														<th>자격</th>
														<td colspan="3">
															<div>
															
															사회복지사 1급
															<button type="button"  
																data-toggle="modal" data-target="#myModal"
																class="btn btn-primary btn-sm">
																<span class="ui-button-text">자격증정보 및 관리</span>
														
															</button>
															</div>
														</td>	
													</tr>
													<tr>
														<th>급여형태</th>
														<td id="employeePayType">월급제</td>
														<th>근로계약시급</th>
														<td id="employeeHourlyPay">해당없음</td>
														<th>급여계좌</th>
														<td id="employeeAccount">70020588783</td>
														<th>예금주</th>
														<td id="employeeAccountHolder">이형열</td>
													</tr>
													<tr>
														<th>비고</th>
														<td colspan="3"></td>
													</tr>
												</tbody>
											</table>								
										</div>
									</div>
								</div>
							</div>
								<!-- 직원 상세정보 End-->
						</div>
						</div>
					
					<!-- 자격증 정보 및  관리  Modal -->
					<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="false" style="position: absolute; padding-top: 200px">
					  <div class="modal-dialog modal-lg">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						        <div class="icons">
									<i class="fa fa-check"></i>
								</div>
							<h3 class="modal-title" id="myModalLabel">자격증 정보 및 관리</h3>
						  </div>
					      <div class="modal-body">
								<h3>자격 정보</h3>
								<div class="row">
									<div id="collapse4" class="col-sm-12">
										<table id="dataTable"
											class="table table-bordered table-condensed table-hover table-striped">
											<thead>
												<tr>
													<th>직원아이디</th>
													<th>이름</th>
													<th>직종자격</th>
													<th>자격번호</th>
													<th>발급(취득)일</th>
													<th>기타추가자격</th>
												</tr>
											</thead>
											<tbody>
												<tr class="odd">
													<td>e_000001</td>
													<td>이형열</td>
													<td>정보처리기사</td>
													<td>10-12345-456</td>
													<td>2019-01-01</td>
													<td></td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
								<h3>자격 등록/수정</h3>
								<div class="col-sm-12" >
									<div class="row" >
										<!-- <form action="#" method="post" class="roundBox"> -->
										<div class="form-group" style="background-color: #CCCCCC; border-radius: 2px; padding: 10px; padding-bottom: 35px" >
											<label>자격정보
												<select>
													<option value="">=자격정보 선택=</option>
													<option value="사회복지사 1급">사회복지사 1급</option>
													<option value="사회복지사 2급">사회복지사 2급</option>
													<option value="사회복지사 3급">사회복지사 3급</option>
													<option value="요양보호사 1급">요양보호사 1급</option>
													<option value="요양보호사 2급">요양보호사 2급</option>
													<option value="요양보호사 기존 유예자">요양보호사 기존 유예자</option>
													<option value="의사">의사</option>
													<option value="방문간호전담 간호사">방문간호전담 간호사</option>
													<option value="방문간호전담 이외 간호사">방문간호전담 이외 간호사</option>
													<option value="방문간호전담 간호조무사">방문간호전담 간호조무사</option>
													<option value="방문간호전담 이외 간호조무사">방문간호전담 이외 간호조무사</option>
													<option value="물리치료사">물리치료사</option>
													<option value="작업치료사">작업치료사</option>
													<option value="영양사">영양사</option>
													<option value="정보처리기사">정보처리기사</option>
													<option value="기타">기타</option>
												</select>
											</label>
											<label>자격번호
												<input type="text" maxlength="11" >
											</label>
						                   <label> 자격발급(취득)일
						                         <input type="date">
						                   </label>
						               
						                   <!-- /.row -->
  										   <label>기타추가자격(중복선택가능)</label>
												<div class="checkbox">
													
													<label>
										              <input class="uniform" type="checkbox" value="option1" >간호사
										            </label> 
										            <label> 
										              <input class="uniform" type="checkbox" value="option2">간호조무사
										            </label>   
										            <label> 
										              <input class="uniform" type="checkbox" value="option2">물리치료사
										            </label>
 													<label> 
										              <input class="uniform" type="checkbox" value="option2">사회복지사 1급
										            </label>
										            <label>   
										              <input class="uniform" type="checkbox" value="option2">사회복지사 2급
										            </label>
										            <label>   
										              <input class="uniform" type="checkbox" value="option2">사회복지사 3급
										            </label>
										            <label>  
										              <input class="uniform" type="checkbox" value="option2">작업치료사
										            </label>
										            <label> 
										              <input class="uniform" type="checkbox" value="option2">기타
										            </label>  
										        	</div>
										         	<label style="float:right; width:80%">
													<button type="button" class="btn btn-metis-5 btn-xs" onclick="submit_frm_tab081_A()" style="float:right" >저장</button>
										         	</label>
										        	</div>
												 </div>
                    						</div>
				                    	</div>
									      <div class="modal-footer">
								        	<button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
									        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
									      </div>
									    </div>
									</div> 
								</div>
						
					 
					 
				
					<!-- 등급관리 model End -->
					<!-- 상태변경 및 관리내역 기록 Modal -->
					<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="false" style="position: absolute; padding-top: 200px">
					  <div class="modal-dialog modal-lg">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        <h1 class="modal-title" id="myModalLabel">상태변경 및 관리내역 기록</h1>
					      </div>
					      <div class="modal-body">
								<div class="row">
									<div id="collapse4" class="col-sm-12">
										<table id="dataTable"
											class="table table-bordered table-condensed table-hover table-striped">
											<thead>
												<tr>
													<th>번호</th>
													<th>낙상위험측정</th>
													<th>욕창위험측정</th>
													<th>인지기능검사</th>
													<th>욕구사정</th>
												</tr>
											</thead>
											
										</table>
									</div>
								</div>
								<h3>이력 등록/수정</h3>
								<div class="row" >
									<div class="col-sm-12" >
										
											
									</div>
								</div>
					      </div>
					      <div class="modal-footer">
				        	<button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
					        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
					      </div>
					    </div>
					  </div>
					</div>
					<!-- 등급관리 model End -->						
	</body>
</th:block>
<th:block layout:fragment="customPlugin">
  
    <!--jQuery -->
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

    <script src="/assets/lib/jquery/jquery.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.26.6/js/jquery.tablesorter.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
	
    Bootstrap
	<script src="/assets/lib/bootstrap/js/bootstrap.js"></script>
    MetisMenu
    <script src="/assets/lib/metismenu/metisMenu.js"></script>
    onoffcanvas
    <script src="/assets/lib/onoffcanvas/onoffcanvas.js"></script>
    Screenfull
    <script src="/assets/lib/screenfull/screenfull.js"></script>
    Metis core scripts
    <script src="/assets/js/core.js"></script>
    Metis demo scripts
    <script src="/assets/js/app.js"></script>
    <script src="/assets/js/style-switcher.js"></script> -->
	<script>
		$(function() {
			$('#dataTable').DataTable({
				"language": 
					{
					"sInfo": " 총_TOTAL_건의 자료 중  _START_번부터~_END_번까지 ",
					"lengthMenu": "_MENU_ 개씩 보기",
					"search":         "검색:",
					"paginate": {
					"first":      "First",
					"last":       "Last",
					"next":       "다음",
					"previous":   "이전"
                    }
					
				}    	    
			});
		
		});
		
	</script>
											
	<script>
	$("#dataTable tr").click(function() {

		  var str = ""
		
		  // 현재 클릭된 Row(<tr>)		
		  var employeeId = $(this).find('[employeeId]').attr('employeeId');
		  var employeeName = $(this).find('[employeeName]').attr('employeeName');
		  var employeePw = $(this).find('[employeePw]').attr('employeePw');
		  var employeeCategory = $(this).find('[employeeCategory]').attr('employeeCategory');
		  var employeeGender = $(this).find('[employeeGender]').attr('employeeGender');
		  var employeePersonalNumber = $(this).find('[employeePersonalNumber]').attr('employeePersonalNumber');
		  var employeePhone = $(this).find('[employeePhone]').attr('employeePhone');
		  var employeeStartDate = $(this).find('[employeeStartDate]').attr('employeeStartDate');
		  var employeeWorkingStatus = $(this).find('[employeeWorkingStatus]').attr('employeeWorkingStatus');
		  var employeeWorkingType = $(this).find('[employeeWorkingType]').attr('employeeWorkingType');
		  var employeePosition = $(this).find('[employeePosition]').attr('employeePosition');
		  var employeePayType = $(this).find('[employeePayType]').attr('employeePayType');
		  var employeeHourlyPay = $(this).find('[employeeHourlyPay]').attr('employeeHourlyPay');
		  var employeeAccount = $(this).find('[employeeAccount]').attr('employeeAccount');
		  var employeeAccountHolder = $(this).find('[employeeAccountHolder]').attr('employeeAccountHolder');
		
		  
		  $('#employeeId').text(employeeId);
		  $('#employeeName').text(employeeName);
		  $('#employeePw').text(employeePw);
		  $('#employeeCategory').text(employeeCategory);
		  $('#employeeGender').text(employeeGender);
		  $('#employeePersonalNumber').text(employeePersonalNumber);
		  $('#employeePhone').text(employeePhone);
		  $('#employeeStartDate').text(employeeStartDate);
		  $('#employeeWorkingStatus').text(employeeWorkingStatus);
		  $('#employeeWorkingType').text(employeeWorkingType);
		  $('#employeePosition').text(employeePosition);
		  $('#employeePayType').text(employeePayType); 
		  $('#employeeHourlyPay').text(employeeHourlyPay);
		  $('#employeeAccount').text(employeeAccount);
		  $('#employeeAccountHolder').text(employeeAccountHolder);
		  
		 $('#btnEmployeeIdForUpdate').attr('employeeId', employeeId);
		 $('#btnEmployeeIdForDelete').attr('employeeId', employeeId);
		 $('#btnEmployeeIdForDelete').attr('employeeName', employeeName);	
		});
	
		$('#btnEmployeeIdForUpdate').click(function(){
			var employeeId = $(this).attr('employeeId');
			if(employeeId == undefined){
				//수정할 직원이 선택되지 않은 경우 알림창
				alert('직원을 선택해주세요');
			}else{	
				//선택한 직원의 수정페이지로 이동
				location.href="/center/employeeUpdate?employeeId="+employeeId;
					
			}
		});
		
		$('#btnEmployeeIdForDelete').click(function(){
			var employeeId = $(this).attr('employeeId');
			var employeeName = $(this).attr('employeeName');
			if(employeeId == undefined){
				//삭제할 직원이 선택되지 않은 경우 알림창
				alert('직원을 선택해주세요');
			}else{				
				 //삭제 확인창	
				 var confirmresult = confirm('!!!!확인요청!!!!\n\n직원아이디:'+employeeId+'\n직원명:'+employeeName+'\n\n을(를)정말 삭제하시겠습니까?\n\n삭제 후에는 되돌릴 수 없습니다');
				 if(confirmresult){
					//삭제 확인버튼
					location.href="/center/employeeDelete?employeeId="+employeeId;
				}else{
					//삭제 취소버튼
					return;
				}	 	 
			 
			 
				
			}
			
		});
		
		
	</script>
	<script>

	
	  $("#gdsImg").change(function(){
	   if(this.files && this.files[0]) {
	    var reader = new FileReader;
	    reader.onload = function(data) {
	     $(".select_img img").attr("src", data.target.result).width(500);        
	    }
	    reader.readAsDataURL(this.files[0]);
	   }
	  });
	


	
	</script>
	
</th:block>
</html>